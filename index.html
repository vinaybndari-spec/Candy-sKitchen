<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Candy's Kitchen</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff6e5;
      margin: 0;
      padding: 0;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #ff9933;
      padding: 10px 20px;
      color: white;
    }

    h1, h2 {
      margin: 0;
    }

    .login-container, .menu-container, .checkout-container, .bill-container, .profile-container {
      display: none;
      padding: 20px;
      text-align: center;
    }

    .active {
      display: block;
    }

    input, button, select {
      padding: 10px;
      margin: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      background-color: #ff9933;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #e67e00;
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .menu-item {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 10px;
    }

    .menu-item img {
      width: 100%;
      height: 150px;
      border-radius: 10px;
      object-fit: cover;
    }

    .hamburger {
      font-size: 24px;
      cursor: pointer;
    }

    .dropdown {
      position: absolute;
      right: 20px;
      top: 60px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      display: none;
      z-index: 10;
    }

    .dropdown button {
      display: block;
      background: none;
      color: black;
      width: 100%;
      text-align: left;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
    }

    .dropdown button:hover {
      background-color: #ffefd5;
    }

    .order-summary {
      text-align: left;
      max-width: 400px;
      margin: 0 auto;
    }

    .payment-options button {
      margin: 10px;
    }

    .search-bar {
      padding: 8px;
      border-radius: 5px;
      border: none;
      width: 150px;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: column;
      }
      .search-bar {
        margin-top: 5px;
      }
    }
  </style>
</head>
<body>

  <!-- Login Page -->
  <div id="loginPage" class="login-container active">
    <h1>Login to Candy‚Äôs Kitchen</h1>
    <input type="text" id="username" placeholder="Enter Username"><br>
    <input type="password" id="password" placeholder="Enter Password"><br>
    <button onclick="login()">Login</button>
  </div>

  <!-- Main Menu Page -->
  <div id="menuPage" class="menu-container">
    <header>
      <h2 id="welcomeText"></h2>
      <div>
        <input type="text" class="search-bar" placeholder="Search...">
        <span class="hamburger" onclick="toggleMenu()">‚ò∞</span>
      </div>
      <div class="dropdown" id="dropdownMenu">
        <button onclick="openProfile()">Profile</button>
        <button onclick="logout()">Logout</button>
      </div>
    </header>

    <div class="menu-grid" id="menuItems"></div>

    <button id="continueBtn" style="display:none" onclick="goToCheckout()">Continue Order</button>
  </div>

  <!-- Checkout Page -->
  <div id="checkoutPage" class="checkout-container">
    <h2>Your Order Summary</h2>
    <div class="order-summary" id="orderSummary"></div>
    <h3 id="totalAmount"></h3>

    <div class="payment-options">
      <p><strong>Choose Payment Mode:</strong></p>
      <button onclick="selectPayment('cash')">Cash on Delivery</button>
      <button onclick="selectPayment('upi')">UPI Payment</button>
    </div>

    <button onclick="placeOrder()">Place Order</button>
  </div>

  <!-- Bill Page -->
  <div id="billPage" class="bill-container">
    <h2>Order Confirmed!</h2>
    <p>Thank you for ordering from Candy‚Äôs Kitchen üçΩÔ∏è</p>
    <button onclick="goHome()">Go to Home</button>
  </div>

  <!-- Profile Page -->
  <div id="profilePage" class="profile-container">
    <h2>Update Profile</h2>
    <input type="text" id="newName" placeholder="Enter New Name"><br>
    <button onclick="saveProfile()">Save</button>
  </div>

  <script>
    // --- Variables ---
    let currentUser = "";
    let cart = [];
    let paymentMode = "";

    const MENU = [
      { name: "Idly", price: 30, img: "https://i.imgur.com/yZJYzUj.jpg" },
      { name: "Dosa", price: 50, img: "https://i.imgur.com/VfKHavM.jpg" },
      { name: "Vada", price: 25, img: "https://i.imgur.com/hcC4CkH.jpg" },
      { name: "Puri", price: 40, img: "https://i.imgur.com/B4tLgBn.jpg" },
      { name: "Tea", price: 15, img: "https://i.imgur.com/p5C9FVG.jpg" }
    ];

    // --- Navigation Helpers ---
    function showPage(pageId) {
      document.querySelectorAll(".login-container, .menu-container, .checkout-container, .bill-container, .profile-container")
        .forEach(p => p.classList.remove("active"));
      document.getElementById(pageId).classList.add("active");
    }

    // --- Login ---
    function login() {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      if (!username || !password) {
        alert("Please enter username and password!");
        return;
      }
      currentUser = username;
      document.getElementById("welcomeText").innerText = `Hi, ${username}!`;
      showPage("menuPage");
      loadMenu();
    }

    // --- Logout ---
    function logout() {
      currentUser = "";
      cart = [];
      paymentMode = "";
      showPage("loginPage");
    }

    // --- Toggle Hamburger Menu ---
    function toggleMenu() {
      const menu = document.getElementById("dropdownMenu");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    // --- Load Menu ---
    function loadMenu() {
      const container = document.getElementById("menuItems");
      container.innerHTML = "";
      MENU.forEach((item, i) => {
        const div = document.createElement("div");
        div.className = "menu-item";
        div.innerHTML = `
          <img src="${item.img}" alt="${item.name}">
          <h3>${item.name}</h3>
          <p>‚Çπ${item.price}</p>
          <button onclick="addToCart(${i})">Add to Cart</button>
        `;
        container.appendChild(div);
      });
    }

    // --- Add to Cart ---
    function addToCart(index) {
      cart.push(MENU[index]);
      document.getElementById("continueBtn").style.display = "block";
    }

    // --- Continue Order ---
    function goToCheckout() {
      showPage("checkoutPage");
      displayCart();
    }

    // --- Display Cart ---
    function displayCart() {
      const summary = document.getElementById("orderSummary");
      summary.innerHTML = "";
      let total = 0;
      cart.forEach(item => {
        total += item.price;
        const p = document.createElement("p");
        p.innerText = `${item.name} - ‚Çπ${item.price}`;
        summary.appendChild(p);
      });
      document.getElementById("totalAmount").innerText = `Total: ‚Çπ${total}`;
    }

    // --- Payment Mode ---
    function selectPayment(mode) {
      paymentMode = mode;
      alert(mode === "cash" ? "Cash on Delivery selected" : "UPI selected");
    }

    // --- Place Order ---
    function placeOrder() {
      if (paymentMode === "cash") {
        alert("Order placed successfully! Cash on Delivery.");
        showPage("billPage");
      } else if (paymentMode === "upi") {
        alert("Redirecting to UPI app...");
        setTimeout(() => {
          alert("Payment Successful!");
          showPage("billPage");
        }, 2000);
      } else {
        alert("Please select payment mode!");
      }
    }

    // --- Profile ---
    function openProfile() {
      document.getElementById("newName").value = currentUser;
      showPage("profilePage");
    }

    function saveProfile() {
      const newName = document.getElementById("newName").value.trim();
      if (newName) {
        currentUser = newName;
        alert("Profile updated!");
        document.getElementById("welcomeText").innerText = `Hi, ${newName}!`;
        showPage("menuPage");
      }
    }

    // --- Return Home ---
    function goHome() {
      showPage("menuPage");
    }
  </script>
</body>
</html>
